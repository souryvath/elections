<app-breadcrumb></app-breadcrumb>
<div class="container">
  <ng-container *ngIf=" {
    place: (place$ | loading | async)
    } as obs">
    <ng-container *ngIf="obs.place as placeObs">
      <ng-container *ngIf="placeObs.value as place">
        <div class="cs-title">
          <h1 *ngIf="region$">
            Résultats de l'élection présidentielle 2022 en {{place.name | uppercaseFirst}} : 1er et 2ème tour
          </h1>
          <h1 *ngIf="departement$">
            Résultats de l'élection présidentielle 2022 en {{place.name | uppercaseFirst}} ({{place.code | slice: 3}}) :
            1er et 2ème tour
          </h1>
          <h1 *ngIf="city$">
            Résultats de l'élection présidentielle 2022 à {{place.name | uppercaseFirst}} ({{place.postalCode}}) : 1er
            et 2ème tour
          </h1>
        </div>
        <div class="content">
          <p *ngIf="region$">
            Consultez dès maintenant les <strong>résultats de
              l'élection présidentielle 2022</strong> du premier et second tour en <strong>{{place.name |
              uppercaseFirst}}</strong>
            et découvrez les résultats des votes et suffrages en direct pour cette région
            <strong>{{place.code}}</strong>.
            Le 1er tour de l'élection présidentielle 2022 se tient
            le dimanche 10 avril 2022, et le 2ème tour le dimanche 24 avril 2022.
          </p>
          <p *ngIf="departement$">
            Consultez dès maintenant les <strong>résultats de
              l'élection présidentielle 2022</strong> du premier et second tour en <strong>{{place.name |
              uppercaseFirst}}</strong>
            et découvrez les résultats des votes et suffrages en direct pour le <strong>{{place.code | slice:
              3}}</strong>.
            Le 1er tour de l'élection présidentielle 2022 se tient
            le dimanche 10 avril 2022, et le 2ème tour le dimanche 24 avril 2022.
          </p>
          <p *ngIf="city$">
            Consultez dès maintenant les <strong>résultats de
              l'élection présidentielle 2022</strong> du premier et second tour à <strong>{{place.name |
              uppercaseFirst}}</strong>
            et découvrez les résultats des votes et suffrages en direct du <strong>{{place.postalCode}}</strong>.
            Le 1er tour de l'élection présidentielle 2022 se tient
            le dimanche 10 avril 2022, et le 2ème tour le dimanche 24 avril 2022.
          </p>
        </div>
        <div class="content">
          <app-presidential-search></app-presidential-search>
        </div>
        <div class="content">
          <app-presidential-round [stat]="stat" [result]="result" [place]="place" [type]="type" [round]="'2'">
          </app-presidential-round>
        </div>
        <div class="content">
          <app-presidential-round [stat]="stat" [result]="result" [place]="place" [type]="type" [round]="'1'">
          </app-presidential-round>
        </div>

        <!-- <div class="content result">
          <app-presidential-list-link
            [title]="'Résultats de l\'élection présidentielle 2022 par ville et par commune en ' + place.name"
            [list]="listRegions" [type]="'city'">
          </app-presidential-list-link>
        </div> -->
        <!-- <div class="content result" *ngIf="region$">
          <app-presidential-list-link
            [title]="'Résultats de l\'élection présidentielle 2022 par département dans la région ' + place.name"
            [list]="listDepartements" [type]="'region'">
          </app-presidential-list-link>
        </div>
        <div class="content result" *ngIf="departement$">
          <app-presidential-list-link
            [title]="'Résultats de l\'élection présidentielle 2022 par département en ' + place.region.name"
            [list]="listDepartements" [type]="'departement'">
          </app-presidential-list-link>
        </div> -->
        <div class="content result" *ngIf="departement && listDepartements">
          <app-presidential-list-link
            [title]="'Résultats de l\'élection présidentielle 2022 par département en ' + departement.region.name"
            [list]="listDepartements" [type]="'region'" [place]="departement?.name" >
          </app-presidential-list-link>
        </div>
        <div class="content result" *ngIf="!departement && listDepartements">
          <app-presidential-list-link
          [title]="'Résultats de l\'élection présidentielle 2022 par département dans la région ' + place.name"
          [list]="listDepartements" [type]="'region'">
        </app-presidential-list-link>
        </div>
        <div class="content result" *ngIf="listRegions">
          <app-presidential-list-link [title]="'Résultats de l\'élection présidentielle 2022 par région en France'"
            [list]="listRegions" [type]="'region'" [place]="region?.name">
          </app-presidential-list-link>
        </div>
        <div class="content result" *ngIf="city">
          <ng-container *ngIf=" {
            cities: (listCity$ | loading | async)
            } as obs">
            <ng-container *ngIf="obs.cities as citiesObs">
              <ng-container *ngIf="citiesObs.value as cities">
                <app-presidential-list-link
                  [title]="'Résultats de l\'élection présidentielle 2022 par ville et par commune à proximité de ' + city.name + ' (' + city.postalCode + ')'"
                  [list]="cities" [type]="'region'">
                </app-presidential-list-link>
              </ng-container>
            </ng-container>
          </ng-container>

        </div>
        <!-- <div class="content result">
          <app-presidential-list-link [title]="'Résultats de l\'élection présidentielle 2022 par région en France'"
            [list]="listRegions" [type]="'region'" [place]="place?.region?.name">
          </app-presidential-list-link>
        </div> -->
      </ng-container>
    </ng-container>
  </ng-container>
</div>
